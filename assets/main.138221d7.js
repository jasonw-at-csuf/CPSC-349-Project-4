import{A as u,r as l,j as i,a as e,c as g,F as p,b,R as f}from"./index.26f27620.js";const w=()=>{const a=new u("https://cpsc349project4.fly.dev"),[r,n]=l.exports.useState("");return i("div",{className:"bg-amber-100 outline outline-amber-900 outline-8 w-5/6 sm:w-2/5 p-5 flex flex-col justify-center items-center",children:[e("button",{className:"btn",onClick:async o=>{const t=await a.collection("games").create({board_state:JSON.stringify(g(3)),player_1:[a.authStore.model.id]});window.location.href=`game.html?gameId=${t.id}`},children:"Create Room"}),i("form",{onSubmit:async o=>{o.preventDefault();try{const t=await a.collection("games").getOne(r);if(console.debug(`Joining room ${t.id}`),t.player_2.length==0)await a.collection("games").update(t.id,{player_2:[a.authStore.model.id]});else throw Error("Room is full");window.location.href=`game.html?gameId=${t.id}`}catch(t){alert(`An error occured while joining room: ${t}`)}},children:[e("input",{value:r,onChange:o=>n(o.target.value),type:"text",className:"form-input"}),e("input",{type:"submit",id:"submitBtn",value:"Submit",className:"btn"})]})]})},S=a=>{const r=new u("https://cpsc349project4.fly.dev"),[n,d]=l.exports.useState(""),[s,o]=l.exports.useState("");return e(p,{children:i("div",{className:"form-container",children:[i("form",{onSubmit:async c=>{c.preventDefault(),await r.collection("users").authWithPassword(n,s)!=400?(console.log("isLoggedIn"),a.checkLogin("true")):alert("ERROR")},className:"form",children:[e("h2",{className:"form-h2",children:"Log In"}),i("label",{htmlFor:"email",className:"form-label",children:["Email"," "]}),e("input",{value:n,onChange:c=>d(c.target.value),type:"email",placeholder:"Email Address",id:"email",name:"email",className:"form-input"}),e("label",{htmlFor:"password",className:"form-label",children:"Password"}),e("input",{value:s,onChange:c=>o(c.target.value),type:"password",placeholder:"Password",id:"password",name:"password",className:"form-input"}),e("input",{type:"submit",id:"submitBtn",value:"Submit",className:"btn"})]}),e("button",{onClick:()=>a.onFormSwitch("SignUp"),type:"button",className:"btn",children:"Don't have an account? Register"})]})})},y=a=>{const r=new u("https://cpsc349project4.fly.dev"),[n,d]=l.exports.useState(""),[s,o]=l.exports.useState(""),[t,c]=l.exports.useState("");return e(p,{children:i("div",{className:"form-container",children:[i("form",{onSubmit:async m=>{m.preventDefault(),s.length<8||t.length<8?alert("Password needs to be over 8 characters"):s!=t?alert("Confirm password must match password"):(await r.collection("users").create({email:n,password:s,passwordConfirm:t}),console.log("Account Created"))},className:"form",children:[e("h2",{className:"form-h2",children:"Sign Up"}),i("label",{htmlFor:"email",className:"form-label",children:["Email"," "]}),e("input",{value:n,onChange:m=>d(m.target.value),type:"email",id:"email",placeholder:"Email Address",className:"form-input"}),e("label",{htmlFor:"password",className:"form-label",children:"Password"}),e("input",{value:s,onChange:m=>o(m.target.value),type:"password",id:"password",placeholder:"Password",className:"form-input"}),e("label",{htmlFor:"passwordConfirm",className:"form-label",children:"Confirm Password"}),e("input",{value:t,onChange:m=>c(m.target.value),type:"password",id:"conPassword",placeholder:"Confirm Password",className:"form-input"}),e("input",{type:"submit",id:"submitBtn",value:"Submit",className:"btn"})]}),e("button",{onClick:()=>a.onFormSwitch("login"),type:"button",className:"btn",children:"Already have an account? Login"})]})})};new u("https://cpsc349project4.fly.dev");function v(){const[a,r]=l.exports.useState("login"),[n,d]=l.exports.useState("false"),s=o=>{r(o)};return e("div",{className:"min-h-screen flex items-center justify-center text-center bg-cyan-700",children:n==="false"?a==="login"?e(S,{onFormSwitch:s,checkLogin:d}):e(y,{onFormSwitch:s}):e(w,{})})}b.createRoot(document.getElementById("root")).render(e(f.StrictMode,{children:e(v,{})}));
